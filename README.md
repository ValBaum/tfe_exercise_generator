# Automatic Pointer Exercise Generator
Authored by Valentin Baum
Promotors: Prof. Benoit Donnet, Prof. Pascal Fontaine

This project was created as part of a master thesis to develop exercises on pointers specifically for the Introduction to Programming courses offered by the Computer Science department of the University of Liège, Belgium.

The following sections will give instructions on how to run the program, details on the folder and file structure, and instructions on how to modify the program's parameters.

## How to run the program

The project is implemented in Python. To run the program, you need to install the pandas and matplotlib packages. You can install these packages using the command ```make package```, as provided in the Makefile.

After the installation, you can easily run the program by executing the command python ```main.py``` or by using the Makefile command ```make run```.


## Structure

### Folder structure

- Exercises: This folder contains the generated exercises. The program generates a single LaTeX file containing all exercises. This allows for quicker transformation of the LaTeX file to a PDF, rather than performing the operation one by one. However, if needed, exercises can be generated individually using the parameter “merge_output”
- Templates: This folder holds the various templates used to generate the exercises in LaTeX format. The file “global_template.tex” contains the LaTeX preamble, and the file “one_ex_template.tex” contains the structure of one exercise, which is appended to the end of the previous file. Additionally, the file “one_by_one_template.tex” is used when generating exercises into separate LaTeX files.
- Feedback: This folder contains the different feedback for each exercise. Each exercise’s feedback is stored in a separate JSON file.
- Solutions: This folder, contains text files with the correct answers for each expression in the exercises.
- Graphs: This folder holds the various graphics generated by the program, which are used in this report for analysis purposes.

### File structure

- ex_creation: This file is responsible for creating the exercises. It contains the different patterns defined in section 4.2, which can be created using the function PatternsCreation(). The file also handles the selection process, creating expressions based on the user-defined category repartition.
- feedback: This file handles the creation of feedback for each exercise. It contains the function “createFeedback(expression, memory)”, which takes the expression to evaluate and the memory state as input and returns a list of value-feedback in a dictionary format.
- initialization: This file manages the creation of variables and the memory. The function “createVariables()” creates the variables, and “createMemory(variables)” creates the memory. It also includes functions for generating the memory and declaration in LaTeX format.
- parameters: This file contains different parameters that can be easily modified to fine-tune the exercises. You can find a list of all the parameters in section 7.3.
- syntax: This file defines the different classes used to create the patterns(VariableExpr, Unop, Incr, Binop, Cast, Array, Function). The classes are composed of the same class functions: init for initialization, “selection” to create the expression from the pattern, “solution” to obtain the solution of the expression, “feedback” to generate feedback, “latex” to generate the expression in LaTeX format, and “printExpr” to create the expression in a readable way.
- main: This file orchestrates the program. It performs various operations. The operations include creating all the patterns, choosing expression repartition in categories, selecting different variables, creating the memory, selecting expressions from the patterns, filling the memory, computing the solution, generating feedback, writing the different outputs (LaTeX, solution, and feedback) in the corresponding folders, and generating graphics if required.
- Makefile: The Makefile contains the main function ``make run`` to run the program and ``make pdf`` to generate the PDF from the LaTeX file in the exercises folder.

## Adapting the parameters

The program user has access to several parameters that allow fine-tuning the exercise generation process according to their preferences.

### Global parameters
- nbr_exercises: Specifies the number of different exercises to generate.
- similar_exercises:  A boolean that determines whether to generate similar exercises for all students. If set to true, the program ensures the same difficulty level and distribution of exercise categories across all exercises. However, variable names, memory states, and expression selections still differ.
-  merge_output: A boolean parameter that is true if the program generates all exercises in a single LaTeX file, making it easier and faster to create the PDF file, especially when the number of exercises is high. If set to false, each exercise is saved in a separate LaTeX file.
- analyse: A boolean parameter that, when set to true, generates different graphics to analyse the program's behavior.

### Variables parameters
- variable_repartitions: This list contains vectors specifying the number of different types of variables that appear in the exercises. The vector takes the form: [number of simple variables, number of pointer variables, number of array variables]. Char variables are not included here as they have their own parameters. If dentical_exercises is true, the program chooses one vector from this list at the beginning. Otherwise, a vector is selected for each exercise.
- variable_char_repartition: This simple list contains the number of char variables that can appear in an exercise. Char variables have their own parameters because they should only appear when there are char expressions (determined by the exercise repartition parameters). If char exercises are to be included, the program chooses a number from this list. It behaves similarly to variable_repartitions when identical_exercises is true.

### Category repartition parameters

- exercise_repartitions: This parameter contains a list of vectors, each corresponding to the number of exercises to create for each category. The vector format is as follows: [[easy0, easy1, easy2, easy3, easy4], [incr], [arithm1, arithm2], [cast], [array], [char], [defer]]. The easy category is divided into different depths, where easy0 corresponds to a variable alone, easy1 corresponds to a variable dereferenced once, and so on. Similarly, the arithmetic expressions are divided into arithm1 and arithm2 to represent different difficulty levels. If identical_exercises is true, the selection is made only once and applied to all exercises.
- forced_exercise_repartition: This parameter allows the user to force the program to use a specific category vector for all exercises. When this parameter is non-empty, it overwrites the exercise_repartition and the specified vector is used for all exercises.

### Memory parameters

- max_memory_interval: This parameter contains the lower and upper bounds for the memory interval. The program chooses an interval between these two values for each exercise.
- nbr_visible_address: It represents the number of addresses that are visible within the memory interval.
- max_nbr_memory_blocks: This parameter defines the maximum number of distinct memory blocks inside the memory interval.
